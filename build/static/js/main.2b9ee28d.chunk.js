(this.webpackJsonpagency_system=this.webpackJsonpagency_system||[]).push([[4],{149:function(e,t){},166:function(e,t){},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var l=n(4),c=n(1),r=n.n(c),a=n(38),s=n(40),i=n.n(s),o=(n(111),n(143),n(31)),d=n(0),u=r.a.createContext();t.b=function(e){var t=e.children,n=Object(c.useState)(!1),r=Object(l.a)(n,2),s=r[0],b=r[1],j=Object(c.useState)(!1),x=Object(l.a)(j,2),m=x[0],h=x[1],f=Object(c.useState)(!1),p=Object(l.a)(f,2),O=p[0],g=p[1];if(Object(c.useEffect)((function(){var e=localStorage.getItem("token");h(!0),function(e){var t={method:"get",url:"http://52.77.238.215/api/auth/get_user/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}};return i()(t)}(e).then((function(e){b(e.data),h(!1)})).catch((function(e){b(!1),h(!1)})),h(!1)}),[]),m)return O?Object(d.jsx)(a.a,{error:!0}):Object(d.jsx)(a.a,{});return Object(d.jsx)(u.Provider,{value:{currentUser:s,login:function(e){h(!0),function(e){var t={method:"post",url:"http://52.77.238.215/api/auth/login",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)};return i()(t)}(e).then((function(e){e.data.auth&&(console.log(e.data),b(e.data.user),localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),Object(o.a)(localStorage.setItem("i18nextLng","kh")),h(!1))})).catch((function(e){b(!1),g(!0)}))},logout:function(){h(!0),localStorage.removeItem("token"),localStorage.removeItem("user"),b(!1),h(!1)},registerAuth:function(e){h(!0),function(e){var t={method:"post",url:"http://52.77.238.215/api/auth/register/",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)};return i()(t)}(e).then((function(e){b(e.data.user),localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),h(!1)})).catch((function(e){b(!1),h(!1),alert("Login failed")}))}},children:t})}},181:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var l=n(1),c=n.n(l),r=n(69),a=n.n(r),s=n(7),i=n(3),o=n(19),d=n(32),u=n(18),b=n(0),j=["Page"],x=function(e){var t=e.Page,n=Object(d.a)(e,j),c=Object(l.useContext)(u.a).currentUser,r=null===c||void 0===c?void 0:c.is_verified;return Object(b.jsx)(i.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return c?r?Object(b.jsx)(t,{routeProps:!0}):Object(b.jsx)(i.a,{to:"/pending"}):Object(b.jsx)(i.a,{to:"/auth"})}}))},m=n(4),h=n(16),f=n(101),p=n(102),O=n(103),g=n(104),w=n(105),y=n(106),v=n(107),N=n(185),k=function(){var e=c.a.useState(!1),t=Object(m.a)(e,2),n=t[0],l=t[1],r=c.a.createRef(),a=c.a.createRef();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("a",{className:"text-blueGray-500 block",href:"#pablo",ref:r,onClick:function(e){e.preventDefault(),n?l(!1):(Object(N.a)(r.current,a.current,{placement:"bottom-end"}),l(!0))},children:Object(b.jsx)("div",{className:"items-center flex",children:Object(b.jsx)("span",{className:"w-12 h-12 text-sm text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full",children:Object(b.jsx)("img",{alt:"...",className:"w-full rounded-full align-middle border-none shadow-lg",src:"https://penitrip.com/assets/img/profile_pic.jpg"})})})}),Object(b.jsxs)("div",{ref:a,className:(n?"block ":"hidden ")+"bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg mt-1",style:{minWidth:"12rem"},children:[Object(b.jsx)("a",{href:"/profile",className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:function(e){return e.preventDefault()},children:"Profile"}),Object(b.jsx)("a",{href:"/setting",className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",onClick:function(e){return e.preventDefault()},children:"Settings"}),Object(b.jsx)("div",{className:"h-0 my-2 border border-solid border-blueGray-100"}),Object(b.jsx)("a",{href:"#pablo",className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700",children:"Logout"})]})]})},I=n(108),C=n(186),P=n.p+"static/media/logo-text.2c1a78b0.png";function S(){var e=c.a.useState("hidden"),t=Object(m.a)(e,2),n=t[0],l=t[1],r=Object(C.a)().t,a=JSON.parse(localStorage.getItem("user"));return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("nav",{className:"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden shadow-xl bg-white-default flex flex-wrap items-center justify-between relative md:w-64 z-10 py-4 px-6",children:Object(b.jsxs)("div",{className:"md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-0 flex flex-wrap items-center justify-between w-full mx-auto",children:[Object(b.jsx)("button",{className:"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent",type:"button",onClick:function(){return l("bg-white m-2 py-3 px-6")},children:Object(b.jsx)(h.InlineIcon,{icon:O.a})}),Object(b.jsx)(s.b,{className:"md:block hidden text-accent-yellow md:pb-2 mr-0  whitespace-nowrap text-lg uppercase font-bold px-0",to:"/",children:Object(b.jsx)("img",{src:P,className:" h-10 w-30"})}),Object(b.jsx)("ul",{className:"md:hidden items-center flex flex-wrap list-none",children:Object(b.jsx)("li",{className:"inline-block relative",children:Object(b.jsx)(k,{})})}),Object(b.jsxs)("div",{className:"md:flex bg-white-default md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4 md:shadow-none shadow absolute top-0 left-0 right-0 z-40 overflow-y-auto overflow-x-hidden h-auto items-center flex-1 rounded "+n,children:[Object(b.jsx)("div",{className:"md:min-w-full md:hidden block pb-4 mb-4 border-b border-solid border-blueGray-200",children:Object(b.jsxs)("div",{className:"flex flex-wrap",children:[Object(b.jsx)("div",{className:"w-6/12",children:Object(b.jsx)(s.b,{className:"md:block text-left md:pb-2 text-blueGray-600 mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0",to:"/",children:Object(b.jsx)("img",{src:P,className:" h-10 w-30"})})}),Object(b.jsx)("div",{className:"w-6/12 flex justify-end",children:Object(b.jsx)("button",{type:"button",className:"cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent",onClick:function(){return l("hidden")},children:Object(b.jsx)(h.InlineIcon,{icon:g.a})})})]})}),Object(b.jsxs)("ul",{className:"md:flex-col md:min-w-full flex flex-col text-lg list-none  text-gray-800",children:[Object(b.jsx)("li",{className:"items-center hover:text-yellow-500 focus-within:text-yellow-500",children:Object(b.jsxs)(s.b,{className:" py-3 block",to:"/",onClick:function(){return l("hidden")},children:[Object(b.jsx)(h.InlineIcon,{icon:f.a,className:"inline w-5 h-5 text-gray-400 mr-2"}),r("DASHBOARD")]})}),null!=a?2==a.roleId?null:Object(b.jsx)("li",{className:"items-center hover:text-yellow-500 focus-within:text-yellow-500",children:Object(b.jsxs)(s.b,{className:"  py-3 block",to:"/plan",onClick:function(){return l("hidden")},children:[Object(b.jsx)(h.InlineIcon,{icon:w.a,className:"inline w-5 h-5 text-gray-400 mr-2"}),r("PLAN")]})}):null,null!=a?2==a.roleId?null:Object(b.jsx)("li",{className:"items-center hover:text-yellow-500 focus-within:text-yellow-500",children:Object(b.jsxs)(s.b,{className:"  py-3 block",to:"/agent",onClick:function(){return l("hidden")},children:[Object(b.jsx)(h.InlineIcon,{icon:p.a,className:"inline w-5 h-5 text-gray-400 mr-2"}),r("AGENT")]})}):null,Object(b.jsx)("li",{className:"items-center",children:Object(b.jsxs)(s.b,{className:"  py-3 block hover:text-yellow-500 focus-within:text-yellow-500",to:"/commission",onClick:function(){return l("hidden")},children:[Object(b.jsx)(h.InlineIcon,{icon:y.a,className:"inline w-5 h-5 text-gray-400 mr-2"}),r("COMMISION")]})}),Object(b.jsx)("li",{className:"items-center",children:Object(b.jsxs)(s.b,{className:" py-3 block hover:text-yellow-500 focus-within:text-yellow-500",to:"/interest_report",onClick:function(){return l("hidden")},children:[Object(b.jsx)(h.InlineIcon,{icon:I.a,className:"inline w-5 h-5 text-gray-400 mr-2"}),r("INTEREST")]})}),null!=a?2==a.roleId?null:Object(b.jsx)("li",{className:"items-center",children:Object(b.jsxs)(s.b,{className:" py-3 block hover:text-yellow-500 focus-within:text-yellow-500",to:"/agent_report",onClick:function(){return l("hidden")},children:[Object(b.jsx)(h.InlineIcon,{icon:v.a,className:"inline w-5 h-5 text-gray-400 mr-2"}),r("AGENT_REPORT")]})}):null,Object(b.jsx)("hr",{className:"my-4 md:min-w-full"}),null!=a&&1==a.roleId?Object(b.jsxs)("li",{className:"items-center ",children:[Object(b.jsx)("h1",{className:" py-2 block text-gray-60",children:r("USER_MANAGEMENT")}),Object(b.jsx)("li",{className:"ml-8 text-base",children:Object(b.jsx)(s.b,{className:"py-2 block hover:text-yellow-500 focus-within:text-yellow-500",to:"/activity_log",onClick:function(){return l("hidden")},children:r("ACTIVITY_LOG")})}),Object(b.jsx)("li",{className:"ml-8 text-base hover:text-yellow-500 focus-within:text-yellow-500",children:Object(b.jsx)(s.b,{className:"py-2 block",to:"/users",onClick:function(){return l("hidden")},children:r("USER")})}),Object(b.jsx)("li",{className:"ml-8 text-base hover:text-yellow-500 focus-within:text-yellow-500",children:Object(b.jsx)(s.b,{className:"py-2 block",to:"/pending_register",onClick:function(){return l("hidden")},children:r("PENDING_REGISTER")})})]}):null]})]})]})})})}var z=n(110),_=n(31);function T(e){var t=e.text,n=e.children,l=e.confirm,r=c.a.useState(!1),a=Object(m.a)(r,2),s=a[0],i=a[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{className:" opacity-70 hover:opacity-90 text-white inline-block",type:"button",onClick:function(){return i(!0)},children:t}),s?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(b.jsx)("div",{className:"relative md:w-6/12 my-6 mx-auto max-w-3xl",children:Object(b.jsxs)("div",{className:"border-0 rounded-lg border-solid border-black-default shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(b.jsxs)("div",{className:"flex items-start bg-primary-default justify-between p-5 text-white rounded-t",children:[Object(b.jsx)("h3",{className:"text-3xl font-semibold",children:t}),Object(b.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return i(!1)},children:Object(b.jsx)("span",{className:"text-white text-sm block outline-none focus:outline-none",children:"X"})})]}),n,Object(b.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[Object(b.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return i(!1)},children:"Close"}),Object(b.jsx)("button",{className:" bg-accent-yellow text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",onClick:function(){i(!1),l()},children:"Confirm"})]})]})})}),Object(b.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})}function E(){var e=c.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],a=c.a.createRef(),s=c.a.createRef(),i=Object(C.a)().t,o=Object(l.useContext)(u.a),d=(o.currentUser,o.logout);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("nav",{className:"absolute top-0 left-0 w-full z-10 bg-transparent md:flex-row md:flex-nowrap md:justify-start flex items-center p-4",children:Object(b.jsxs)("div",{className:"w-full mx-autp items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4",children:[Object(b.jsx)("div",{className:" text-xl uppercase hidden text-white lg:inline-block font-semibold",href:"#",onClick:function(e){return e.preventDefault()}}),Object(b.jsxs)("ul",{className:"flex-col text-2xl md:flex-row list-none space-x-3 items-center hidden md:flex",children:[Object(b.jsx)("li",{className:"opacity-70 hover:opacity-100 hover:text-green-700 text-white inline-block"}),Object(b.jsxs)("li",{className:"opacity-70 hover:opacity-100 hover:text-blue-700 text-white inline-block",ref:a,onClick:function(){n?r(!1):(Object(N.a)(a.current,s.current,{placement:"bottom-start"}),r(!0))},children:[Object(b.jsx)(h.InlineIcon,{icon:z.a}),Object(b.jsxs)("div",{ref:s,className:(n?"block ":"hidden ")+"bg-white w-full sm:w-6/12 md:w-2/12 text-base z-50 float-left py-2 list-none text-left rounded shadow-lg mt-1",children:[Object(b.jsx)("button",{onClick:function(){return Object(_.a)("en")},className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent hover:underline",children:"English"}),Object(b.jsx)("button",{onClick:function(){return Object(_.a)("kh")},className:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent hover:underline",children:"\u1781\u17d2\u1798\u17c2\u179a"})]})]}),Object(b.jsx)("li",{children:Object(b.jsx)(T,{text:i("LOGOUT"),confirm:d,children:Object(b.jsxs)("div",{className:" m-5",children:[Object(b.jsx)("p",{children:i("LOGOUT_WARN")}),Object(b.jsx)("p",{children:i("CONFIRMATION_TEXT")})]})})})]})]})})})}var G=function(e){var t=e.children;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S,{}),Object(b.jsxs)("div",{className:"relative md:ml-64 bg-gray-100 min-h-screen",children:[Object(b.jsx)(E,{}),Object(b.jsx)("div",{className:"relative bg-primary-default md:pt-32 pb-12 pt-12",children:Object(b.jsx)("div",{className:"px-4 md:px-10 mx-auto w-full"})}),Object(b.jsx)("div",{className:"px-4 md:px-10 mx-auto w-full -m-24",children:Object(b.jsx)("div",{className:"flex flex-wrap mt-4",children:Object(b.jsx)("div",{className:"w-full  mb-12 xl:mb-0 px-4",children:Object(b.jsx)("div",{className:"relative flex flex-col p-3 min-w-0 break-wordsw-full mb-6 rounded",children:t})})})})]})]})},R=n(38),A=["Page"],L=function(e){var t=e.Page,n=Object(d.a)(e,A),c=Object(l.useContext)(u.a).currentUser,r=null===c||void 0===c?void 0:c.is_verified;return Object(b.jsx)(i.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return c?r?Object(b.jsx)(i.a,{to:"/"}):Object(b.jsx)(i.a,{to:"/pending"}):Object(b.jsx)(t,{routeProps:!0})}}))},F=["Page"],U=function(e){var t=e.Page,n=Object(d.a)(e,F),c=Object(l.useContext)(u.a).currentUser,r=null===c||void 0===c?void 0:c.is_verified;return Object(b.jsx)(i.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return c?r?Object(b.jsx)(i.a,{to:"/"}):Object(b.jsx)(t,{routeProps:!0}):Object(b.jsx)(i.a,{to:"/auth"})}}))},D=Object(l.lazy)((function(){return n.e(18).then(n.bind(null,321))})),J=Object(l.lazy)((function(){return n.e(15).then(n.bind(null,312))})),M=Object(l.lazy)((function(){return n.e(16).then(n.bind(null,313))})),B=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8),n.e(11)]).then(n.bind(null,320))})),W=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(10)]).then(n.bind(null,319))})),V=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(14)]).then(n.bind(null,325))})),X=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(13)]).then(n.bind(null,326))})),q=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(7)]).then(n.bind(null,318))})),H=Object(l.lazy)((function(){return n.e(20).then(n.bind(null,314))})),Y=Object(l.lazy)((function(){return n.e(19).then(n.bind(null,315))})),K=Object(l.lazy)((function(){return n.e(21).then(n.bind(null,316))})),Q=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(17)]).then(n.bind(null,324))})),Z=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,322))})),$=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,323))})),ee=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)(u.b,{children:Object(b.jsx)(l.Suspense,{fallback:Object(b.jsx)(R.a,{}),children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{exact:!0,path:"/404",component:M}),Object(b.jsx)(L,{exact:!0,path:"/signupform",Page:H}),Object(b.jsx)(L,{exact:!0,path:"/auth",Page:J}),Object(b.jsx)(U,{exact:!0,path:"/pending",Page:Y}),Object(b.jsx)(G,{children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(x,{exact:!0,path:"/",Page:D}),Object(b.jsx)(x,{path:"/agent",Page:B}),Object(b.jsx)(x,{path:"/plan",Page:W}),Object(b.jsx)(x,{path:"/agent_report",Page:V}),Object(b.jsx)(x,{path:"/interest_report",Page:X}),Object(b.jsx)(x,{path:"/activity_log",Page:Q}),Object(b.jsx)(x,{path:"/pending_register",Page:Z}),Object(b.jsx)(x,{path:"/users",Page:$}),Object(b.jsx)(x,{path:"/commission",Page:q}),Object(b.jsx)(x,{path:"/setting",Page:K}),Object(b.jsx)(i.a,{from:"*",to:"/404"})]})})]})})})})},te=(n(181),function(e){e&&e instanceof Function&&n.e(22).then(n.bind(null,317)).then((function(t){var n=t.getCLS,l=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),l(e),c(e),r(e),a(e)}))});a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ee,{})}),document.getElementById("root")),te()},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n(49),c=n(96),r=n(39),a=n(98),s=localStorage.getItem("i18nextLng");l.a.use(a.a).use(c.a).use(r.e).init({supportedLngs:[{code:"en",name:"English"},{code:"kh",name:"\u1781\u17d2\u1798\u17c2\u179a"}].map((function(e){return e.code})),fallbackLng:s,keySeparator:!1,interpolation:{escapeValue:!1},react:{useSuspense:!1},debug:!1,detection:{order:["queryString","cookie"],cache:["cookie"]}});var i=function(e){l.a.changeLanguage(e)};l.a},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(1);var l=n(0);function c(e){var t=e.error;return Object(l.jsxs)("div",{className:"min-h-screen flex flex-col justify-center items-center",children:[Object(l.jsxs)("div",{className:"loader p-5 rounded-full flex space-x-3",children:[Object(l.jsx)("div",{className:"w-5 h-5 bg-gray-800 rounded-full animate-bounce"}),Object(l.jsx)("div",{className:"w-5 h-5 bg-gray-800 rounded-full animate-bounce"}),Object(l.jsx)("div",{className:"w-5 h-5 bg-gray-800 rounded-full animate-bounce"})]}),1==t?Object(l.jsxs)("div",{role:"alert",children:[Object(l.jsx)("div",{className:"bg-red-500 text-white font-bold rounded-t px-4 py-2",children:"Wrong Password or Email"}),Object(l.jsx)("div",{className:"border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700",children:Object(l.jsx)("button",{className:"bg-gray-800 text-white mt-5 p-3 rounded-md w-full",onClick:function(){return window.location.reload()},children:"Try Again!"})})]}):null]})}},59:function(e,t){},60:function(e,t){},83:function(e,t){},88:function(e,t){}},[[182,5,6]]]);
//# sourceMappingURL=main.2b9ee28d.chunk.js.map